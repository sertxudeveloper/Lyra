<template>
  <tr>
    <td class="px-6 py-4 whitespace-nowrap">
      <input type="checkbox" name="select" :checked="checked" @input="$emit('select')"
             class="cursor-pointer w-4 h-4 text-blue-600 border-gray-400 rounded focus:ring-blue-600 focus:ring-2 form-checkbox">
    </td>
    <td v-for="field in resource.fields"
        class="px-6 py-4 whitespace-nowrap"
        :class="[`text-${field.align}`]">
      <component
        :is="`index-${field.component}`"
        :field="field" />
    </td>
    <td class="px-4 whitespace-nowrap">
      <div class="flex text-gray-600 space-x-1.5">
        <!-- Details link -->
        <router-link
            :to="{ name: 'resource-show', params: { resourceName: $route.params.resourceName, resourceId: resource.key } }"
            class="focus:outline-none focus:ring-2 focus:ring-blue-600 rounded hover:text-blue-600 p-1.5">
          <svg class="h-5 w-5" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M8 5.22223C7.70559 5.22683 7.41336 5.2736 7.13222 5.36112C7.26227 5.58981 7.33151 5.84804 7.33333 6.11112C7.33333 6.3154 7.2931 6.51767 7.21492 6.7064C7.13675 6.89513 7.02217 7.06662 6.87772 7.21106C6.73327 7.35551 6.56179 7.47009 6.37306 7.54827C6.18433 7.62644 5.98205 7.66668 5.77777 7.66668C5.51469 7.66485 5.25647 7.59561 5.02777 7.46556C4.84734 8.09134 4.86837 8.75803 5.08788 9.37119C5.3074 9.98435 5.71428 10.5129 6.25088 10.882C6.78748 11.251 7.4266 11.4419 8.07771 11.4276C8.72883 11.4132 9.35892 11.1944 9.87875 10.802C10.3986 10.4097 10.7818 9.86374 10.9741 9.24151C11.1664 8.61927 11.158 7.95231 10.9502 7.33508C10.7424 6.71786 10.3456 6.18167 9.81613 5.80246C9.28665 5.42326 8.65127 5.22026 8 5.22223ZM15.9033 7.92779C14.397 4.98861 11.4147 3 8 3C4.58527 3 1.60221 4.99 0.0966517 7.92806C0.0331076 8.05376 0 8.19264 0 8.33348C0 8.47433 0.0331076 8.6132 0.0966517 8.7389C1.60304 11.6781 4.58527 13.6667 8 13.6667C11.4147 13.6667 14.3978 11.6767 15.9033 8.73862C15.9669 8.61292 16 8.47405 16 8.3332C16 8.19236 15.9669 8.05348 15.9033 7.92779ZM8 12.3334C5.25972 12.3334 2.74749 10.8056 1.39082 8.33334C2.74749 5.86112 5.25944 4.33334 8 4.33334C10.7406 4.33334 13.2525 5.86112 14.6092 8.33334C13.2528 10.8056 10.7406 12.3334 8 12.3334Z"/></svg>
        </router-link>

        <!-- Edit link -->
        <router-link
            :to="{ name: 'resource-edit', params: { resourceName: $route.params.resourceName, resourceId: resource.key } }"
            class="focus:outline-none focus:ring-2 focus:ring-blue-600 rounded hover:text-blue-600 p-1.5">
          <svg class="h-5 w-5" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M13.9823 3.36938L12.6147 2.00238C11.9449 1.3326 10.8608 1.3325 10.1909 2.00235L2.13248 10.0081L1.50835 13.7912C1.44043 14.2029 1.79699 14.5596 2.2088 14.4917L5.99188 13.8675L13.9982 5.80909C14.6667 5.14053 14.6731 4.06021 13.9823 3.36938V3.36938ZM4.56322 9.16796L8.8862 4.87301L11.1269 7.11376L6.83203 11.4367V10.3867H5.61328V9.16796H4.56322ZM3.58538 13.1322L2.86776 12.4146L3.17601 10.5462L3.64319 10.082H4.69921V11.3008H5.91796V12.3568L5.45377 12.824L3.58538 13.1322V13.1322ZM13.208 5.01911L13.2067 5.0204L13.2055 5.0217L11.9859 6.24918L9.7508 4.01405L10.9783 2.79454L10.9796 2.79327L10.9808 2.792C11.2131 2.55978 11.5896 2.55691 11.8247 2.79197L13.1921 4.15936C13.4429 4.41014 13.4445 4.78267 13.208 5.01911V5.01911Z"/></svg>
        </router-link>

        <!-- Remove button -->
        <button
            v-if="!resource.trashed"
            @click="$emit('delete')"
            class="focus:outline-none focus:ring-2 focus:ring-blue-600 rounded hover:text-red-500 p-1.5">
          <svg class="h-5 w-5" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M9.10474 12.0625H9.71411C9.79492 12.0625 9.87242 12.0304 9.92956 11.9733C9.9867 11.9161 10.0188 11.8386 10.0188 11.7578V6.27344C10.0188 6.19263 9.9867 6.11513 9.92956 6.05799C9.87242 6.00085 9.79492 5.96875 9.71411 5.96875H9.10474C9.02393 5.96875 8.94643 6.00085 8.88929 6.05799C8.83215 6.11513 8.80005 6.19263 8.80005 6.27344V11.7578C8.80005 11.8386 8.83215 11.9161 8.88929 11.9733C8.94643 12.0304 9.02393 12.0625 9.10474 12.0625ZM13.2688 3.53125H11.1764L10.3131 2.0916C10.2047 1.91108 10.0515 1.7617 9.86824 1.65802C9.685 1.55434 9.47803 1.4999 9.26749 1.5H6.70761C6.49716 1.49999 6.29029 1.55447 6.10714 1.65815C5.924 1.76182 5.77082 1.91115 5.66253 2.0916L4.79874 3.53125H2.7063C2.59855 3.53125 2.49522 3.57405 2.41904 3.65024C2.34285 3.72642 2.30005 3.82976 2.30005 3.9375V4.34375C2.30005 4.45149 2.34285 4.55483 2.41904 4.63101C2.49522 4.7072 2.59855 4.75 2.7063 4.75H3.11255V13.2812C3.11255 13.6045 3.24095 13.9145 3.46951 14.143C3.69807 14.3716 4.00807 14.5 4.3313 14.5H11.6438C11.967 14.5 12.277 14.3716 12.5056 14.143C12.7341 13.9145 12.8625 13.6045 12.8625 13.2812V4.75H13.2688C13.3765 4.75 13.4799 4.7072 13.5561 4.63101C13.6322 4.55483 13.675 4.45149 13.675 4.34375V3.9375C13.675 3.82976 13.6322 3.72642 13.5561 3.65024C13.4799 3.57405 13.3765 3.53125 13.2688 3.53125ZM6.66317 2.79264C6.67675 2.77004 6.69596 2.75135 6.71893 2.7384C6.74189 2.72545 6.76783 2.71868 6.79419 2.71875H9.18091C9.20723 2.71872 9.23311 2.72551 9.25603 2.73846C9.27894 2.75141 9.29811 2.77007 9.31167 2.79264L9.75499 3.53125H6.22011L6.66317 2.79264ZM11.6438 13.2812H4.3313V4.75H11.6438V13.2812ZM6.26099 12.0625H6.87036C6.95117 12.0625 7.02867 12.0304 7.08581 11.9733C7.14295 11.9161 7.17505 11.8386 7.17505 11.7578V6.27344C7.17505 6.19263 7.14295 6.11513 7.08581 6.05799C7.02867 6.00085 6.95117 5.96875 6.87036 5.96875H6.26099C6.18018 5.96875 6.10268 6.00085 6.04554 6.05799C5.9884 6.11513 5.9563 6.19263 5.9563 6.27344V11.7578C5.9563 11.8386 5.9884 11.9161 6.04554 11.9733C6.10268 12.0304 6.18018 12.0625 6.26099 12.0625Z"/></svg>
        </button>

        <!-- Restore button -->
        <button
            v-else
            @click="$emit('restore')"
            class="focus:outline-none focus:ring-2 focus:ring-blue-600 rounded hover:text-blue-600 p-1.5">
          <svg class="h-5 w-5" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M7.98807 1.50001C6.25118 1.50313 4.67417 2.18757 3.50989 3.30022L2.57384 2.36417C2.17755 1.96788 1.5 2.24853 1.5 2.80895V6.32259C1.5 6.67 1.78162 6.95162 2.12903 6.95162H5.64267C6.20309 6.95162 6.48374 6.27407 6.08748 5.87778L4.99322 4.78353C5.80216 4.0261 6.84889 3.60653 7.96094 3.59694C10.3827 3.57603 12.424 5.53585 12.4031 8.03796C12.3832 10.4115 10.4589 12.4032 8 12.4032C6.92207 12.4032 5.9033 12.0185 5.10042 11.3141C4.97611 11.205 4.78837 11.2116 4.67142 11.3286L3.63189 12.3681C3.5042 12.4958 3.51052 12.704 3.64453 12.825C4.79712 13.8661 6.32452 14.5 8 14.5C11.5898 14.5 14.5 11.5899 14.5 8.00006C14.5 4.41434 11.5738 1.49359 7.98807 1.50001Z"/></svg>
        </button>
      </div>
    </td>
  </tr>
</template>

<script>
export default {
  props: ['resource', 'checked'],
  emits: ['select', 'delete', 'restore']
}
</script>
